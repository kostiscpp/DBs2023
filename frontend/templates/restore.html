<!DOCTYPE html>
<html>
<head>
    <title>Restore Database</title>
    <style>
        .drop-area {
            border: 2px dashed #ccc;
            padding: 20px;
            text-align: center;
        }
        .drop-area.highlight {
            border-color: #009688;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var dropArea = document.getElementById('dropArea');
            var restoreButton = document.getElementById('restoreButton');

            // Highlight drop area when file is dragged over it
            dropArea.addEventListener('dragenter', function (event) {
                event.preventDefault();
                dropArea.classList.add('highlight');
            });

            // Remove highlight when file is dragged out of drop area
            dropArea.addEventListener('dragleave', function (event) {
                event.preventDefault();
                dropArea.classList.remove('highlight');
            });

            // Prevent default behavior when file is dragged over drop area
            dropArea.addEventListener('dragover', function (event) {
                event.preventDefault();
            });

            // Handle file drop
            dropArea.addEventListener('drop', function (event) {
                event.preventDefault();
                dropArea.classList.remove('highlight');

                var file = event.dataTransfer.files[0];
                var inputFile = document.getElementById('backupFile');
                inputFile.files = event.dataTransfer.files;
                inputFile.dispatchEvent(new Event('change'));
            });

            // Handle restore button click
            restoreButton.addEventListener('click', function (event) {
                var inputFile = document.getElementById('backupFile');
                if (inputFile.files.length > 0) {
                    // Submit the form to initiate the restore process
                    document.getElementById('restoreForm').submit();
                }
            });
        });
    </script>
</head>
<body>
    <h1>Restore Database</h1>
    <div class="drop-area" id="dropArea">
        <p>Drag and drop your SQL backup file here</p>
        <p>Or</p>
        <p>
            <input type="file" id="backupFile" name="backup_file" accept=".sql">
        </p>
    </div>
    <button id="restoreButton">Restore</button>
    <form id="restoreForm" action="/restore" method="POST" enctype="multipart/form-data"></form>
</body>
</html>
